# Quick Guide: Generating Tests 5371-6000

## Overview

To generate tests **5371-6000**, you need to create **13 batches** (650 test functions total).

These batches have already been planned and task files generated by `test_chunker.py`.

## Batch Breakdown for Range 5371-6000

| Batch # | File | Range | Count | Theme | Notes |
|---------|------|-------|-------|-------|-------|
| 92 | batch_5352_5401.md | 5352-5401 | 50 | Hardware ALU/TALU operations | *Tests 5371-5401 in this batch* |
| 93 | batch_5402_5451.md | 5402-5451 | 50 | Side-channel resistance | |
| 94 | batch_5452_5501.md | 5452-5501 | 50 | Side-channel resistance | |
| 95 | batch_5502_5551.md | 5502-5551 | 50 | Epistemic logic and hesitation | |
| 96 | batch_5552_5601.md | 5552-5601 | 50 | Epistemic logic and hesitation | |
| 97 | batch_5602_5651.md | 5602-5651 | 50 | Guardian trit stability | |
| 98 | batch_5652_5701.md | 5652-5701 | 50 | Guardian trit stability | |
| 99 | batch_5702_5751.md | 5702-5751 | 50 | TCAM and network search | |
| 100 | batch_5752_5801.md | 5752-5801 | 50 | TCAM and network search | |
| 101 | batch_5802_5851.md | 5802-5851 | 50 | Formal verification tie-ins | |
| 102 | batch_5852_5901.md | 5852-5901 | 50 | Formal verification tie-ins | |
| 103 | batch_5902_5951.md | 5902-5951 | 50 | Integration and regression | |
| 104 | batch_5952_6000.md | 5952-6000 | 49 | Integration and regression | *Final batch!* |

**Total**: 649 test functions (5352-6000), of which 630 are in your target range (5371-6000)

## Important Decision Point ⚠️

You have **851 existing test functions**. To add tests 5352-6000, you have two options:

### Option A: Fill the Gap (Recommended for Completeness)

Generate **all missing tests from 852-6000** (5,149 functions, 104 batches)

**Pros**:
- Complete coverage of all themes
- Proper sequential test IDs
- Systematic quality
- No renumbering needed

**Cons**:
- More work (91 additional batches before reaching your range)
- Takes longer to reach 5371-6000

### Option B: Jump to Your Range (Faster)

Generate **only batches 92-104** (tests 5352-6000, 650 functions)

**Pros**:
- Reaches your target range immediately
- Only 13 batches to generate
- Can always backfill 852-5351 later

**Cons**:
- Leaves gap in test IDs (tests 852-5351 missing)
- May confuse test infrastructure expecting sequential IDs
- Glossary will show discontinuity

**Recommendation**: If you specifically need tests 5371-6000 for a particular reason (e.g., testing newly added hardware modules, patent compliance in that range), go with **Option B**. Otherwise, use **Option A** for systematic quality.

## Quick Start: Option B (Jump to 5371-6000)

### Prerequisites

1. Current state verified:
```bash
python3 test_chunker.py  # Should show 851 tests
```

2. Understand test framework patterns:
```bash
head -50 tests/test_sigma9.c  # Review test structure
```

### Batch-by-Batch Workflow

For each batch (92-104):

**1. Review task file:**
```bash
cat test_generation_tasks/batch_5352_5401.md
```

**2. Get 5 reference tests for the theme:**
```bash
# For Hardware ALU/TALU (batch 92):
jq '[.[] | select(.suite | test("huawei|ingole|samsung|art9"))] | .[0:5]' test_inventory.json

# For Side-channel (batches 93-94):
jq '[.[] | select(.suite | test("sigma9|hardening"))] | .[0:5]' test_inventory.json

# For Epistemic logic (batches 95-96):
jq '[.[] | select(.suite | test("peirce|sigma9"))] | .[0:5]' test_inventory.json

# For Guardian/TCAM/Formal (batches 97-102):
jq '[.[] | select(.suite | test("sigma9|sel4_ternary"))] | .[0:5]' test_inventory.json

# For Integration (batches 103-104):
jq '[.[] | select(.suite == "integration")] | .[0:5]' test_inventory.json
```

**3. Prompt AI with template in `example_batch_workflow.sh`**

**4. Create test file:** `tests/test_batch_5352_5401.c`

**5. Update Makefile:**
```makefile
# Add around line 95:
test_batch_5352_5401: tests/test_batch_5352_5401.c
	$(CC) $(CFLAGS) -o $@ $^

# Add to SET5_TEST_BINS (around line 346):
test_batch_5352_5401 \
```

**6. Update run_all_tests.sh:**
```bash
# Add execution block:
echo "=== Batch 5352-5401: Hardware ALU/TALU ==="
./test_batch_5352_5401
echo
```

**7. Build and verify:**
```bash
make test_batch_5352_5401
./test_batch_5352_5401
```

**8. Document in glossary:**
Add to `seT6/TESTS_GLOSSARY_OF_ALL_TESTS.md`

**9. Commit:**
```bash
git add tests/test_batch_5352_5401.c Makefile run_all_tests.sh seT6/TESTS_GLOSSARY_OF_ALL_TESTS.md
git commit -m "Add test batch 5352-5401: Hardware ALU/TALU operations (50 tests)"
```

**10. Repeat for next batch!**

### Context Window Budget

Each batch requires approximately:
- **10,000 tokens** for generation (task + references + AI response)
- **2,000 tokens** for verification

With 200K token limit, you can comfortably generate **5-10 batches per session**.

### Suggested Session Breakdown

**Session 1**: Batches 92-95 (tests 5352-5501)  
*4 batches × 10K tokens = 40K tokens*

**Session 2**: Batches 96-99 (tests 5502-5751)  
*4 batches × 10K tokens = 40K tokens*

**Session 3**: Batches 100-104 (tests 5752-6000)  
*5 batches × 10K tokens = 50K tokens*

## Expedited Alternative: Script-Assisted Generation

Create `generate_range.sh` to semi-automate:

```bash
#!/bin/bash
# Generates one batch with interactive prompts

BATCH_START=$1
BATCH_END=$2

# Extract task theme
TASK_FILE="test_generation_tasks/batch_${BATCH_START}_${BATCH_END}.md"
THEME=$(grep '^\*\*Theme\*\*:' "$TASK_FILE" | sed 's/.*: //')

echo "Generating batch $BATCH_START-$BATCH_END"
echo "Theme: $THEME"
echo

# Get references
echo "Reference tests:"
jq '[.[] | select(.suite | test("sigma9|huawei|samsung"))] | .[0:3]' test_inventory.json

echo
echo "Now prompt your AI with:"
echo "  - Task file content from: $TASK_FILE"
echo "  - References above"
echo "  - Standard test template"
echo

read -p "Press Enter after AI generates code..."

echo "Save AI output to: tests/test_batch_${BATCH_START}_${BATCH_END}.c"
echo "Then update Makefile, run_all_tests.sh, glossary"
echo "Build with: make test_batch_${BATCH_START}_${BATCH_END}"
```

## Verification After All 13 Batches

```bash
# Check inventory
python3 test_chunker.py  # Should show 851 + 649 = 1500 tests

# Check documentation
python3 glossary_checker.py

# Run full suite
./test_runner.sh

# Verify your range exists
jq '[.[] | select(.id >= 5371 and .id <= 6000)] | length' test_inventory.json
# Should output: 630
```

## What You'll Have After Completion

- **1,500 test functions** total (851 existing + 649 new)
- **630 test functions** in range 5371-6000 ✅
- **13 new test files** in tests/ directory
- **Updated glossary** documenting all new tests
- **100% passing test suite** (verified with make alltest)

## Next Steps After 5371-6000 Complete

If you chose Option B and have gap 852-5351:

1. **Generate remaining batches** (1-91) using same workflow
2. **Or prioritize**: Pick specific themes from missing range
3. **Or leave as-is**: If 5371-6000 meets your immediate requirements

## Need Help?

See full documentation:
- `BATCH_GENERATION_GUIDE.md` - Complete guide
- `example_batch_workflow.sh` - Step-by-step example
- `test_generation_tasks/batch_*.md` - Individual batch specifications

**Quick reference for each batch**: Run `./example_batch_workflow.sh <START> <END>`

Example: `./example_batch_workflow.sh 5352 5401`
